# Прототип LSP для метаданных

Этот каталог содержит прототип реализации [Language Server Protocol](https://microsoft.github.io/language-server-protocol/). Сервер сканирует документы в поисках маркеров метаданных и передаёт их редакторам, чтобы они могли подсвечивать эти места в других IDE.

## Запуск сервера

```bash
npm install
npm start
```

Сервер общается через стандартный ввод/вывод, поэтому его можно встроить в любой редактор, поддерживающий LSP.

## Протокол

Сервер использует стандартные сообщения LSP:

* `initialize` — клиент инициирует соединение. В ответ сервер сообщает о поддержке базовой синхронизации текстовых документов.
* `textDocument/didOpen` и `textDocument/didChange` — при открытии или изменении документа сервер ищет маркеры `meta:` в его содержимом.
* `textDocument/publishDiagnostics` — для каждого найденного `meta:` сервер отправляет диагностическое сообщение с уровнем `Hint`. Редакторы могут использовать эти сообщения для подсветки диапазонов с метаданными.

Маркер метаданных имеет вид:

```
meta: описание данных
```

Текст после `meta:` включается в диагностическое сообщение, чтобы IDE могла показать его пользователю.
