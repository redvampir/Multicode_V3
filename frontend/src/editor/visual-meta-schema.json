{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["id", "x", "y", "updated_at"],
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": "string",
      "description": "Identifier linking this metadata to blocks."
    },
    "x": {
      "type": "number",
      "description": "X coordinate on the canvas."
    },
    "y": {
      "type": "number",
      "description": "Y coordinate on the canvas."
    },
    "tags": {
      "type": "array",
      "description": "Tags associated with this block.",
      "items": { "type": "string" }
    },
    "links": {
      "type": "array",
      "description": "Links to other blocks by id.",
      "items": { "type": "string" }
    },
    "origin": {
      "type": "string",
      "description": "Reverse path to the original external file."
    },
    "translations": {
      "type": "object",
      "description": "Optional translations for block labels keyed by language code.",
      "additionalProperties": { "type": "string" }
    },
    "ai": {
      "type": "object",
      "description": "Optional AI-generated note.",
      "additionalProperties": false,
      "properties": {
        "description": { "type": "string", "description": "AI provided description." },
        "hints": {
          "type": "array",
          "description": "Helpful hints for the user.",
          "items": { "type": "string" }
        }
      }
    },
    "extras": {
      "type": "object",
      "description": "Arbitrary plugin-specific data."
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp of last update in UTC."
    }
  }
}
