# Руководство по ассистенту

Этот документ содержит инструкции для работы с искусственным ассистентом Codex. Они предназначены только для людей; сам ассистент этот файл не читает.

## Формула запроса

Чтобы получить от ассистента максимально полезный ответ, формулируйте запрос по следующей последовательности:

1. **Контекст задачи** — коротко опишите, над чем вы работаете и какую часть проекта затрагивает вопрос.
2. **Формулировка цели** — явно укажите, чего хотите добиться.
3. **Ограничения** — перечислите условия, которых нужно придерживаться (стиль кода, используемые технологии и т. п.).
4. **Ожидания по формату ответа** — уточните, как именно должен выглядеть ответ (например, “только код” или “пошаговое объяснение”).

### Ожидания по формату ответа

Ассистент может предоставить результат в разных видах. Уточните, какой формат нужен:

- **Только код** — вернёт минимальный фрагмент без пояснений.
- **Код с комментариями** — добавит краткие пояснения внутри или рядом с фрагментами.
- **Пример использования** — покажет, как применить предложенное решение.
- **Тесты** — предложит проверки, подтверждающие корректность кода.
- **Комментарии к изменениям** — пояснит, что и почему было изменено.

### Пример запроса

Контекст: я работаю с репозиторием Multicode_V3 и хочу улучшить документацию.

Цель: добавить в `docs/assistant_manual.md` раздел с описанием формулы запроса.

Ограничения: используй Markdown и придерживайся существующего стиля файла.

Формат ответа: предложи измененный текст и объясни, какие строки были добавлены.

## Итеративный процесс

Иногда задача требует последовательной работы с кодом или документацией. В таких случаях ассистент действует итеративно:

1. **Запрос плана.** Перед началом работы ассистент формулирует общий план действий и просит пользователя его подтвердить или скорректировать.
2. **Подтверждение каждого шага.** После утверждения плана каждый шаг выполняется отдельно; переход к следующему возможен только после подтверждения текущего шага пользователем.
3. **Пошаговая выдача кода.** Для каждого согласованного шага ассистент предоставляет только ту часть кода, которая относится к нему, ожидая обратную связь перед продолжением.
4. **Коррекции.** Если пользователь вносит изменения или замечания, ассистент обновляет план и соответствующий код.

### Пример

Контекст: необходимо добавить новый плагин в каталог `examples/plugins` основного проекта.

**Пользователь:** Хочу добавить пример плагина, который отображает приветственное сообщение.

**Ассистент:** План:
1. Создать файл `examples/plugins/hello_plugin.rs` с базовой реализацией.
2. Добавить файл `examples/plugins/hello-block.js` для frontend‑части.
3. Обновить инструкцию в `examples/plugins/README.md`.

Подтверждаете план?

**Пользователь:** Да.

**Ассистент:** Шаг 1 — создаю `hello_plugin.rs`:
```rust
// Содержимое файла
```

**Пользователь:** Подходит.

**Ассистент:** Шаг 2 — создаю `hello-block.js`:
```javascript
// Содержимое файла
```

**Пользователь:** Хорошо, продолжай.

**Ассистент:** Шаг 3 — обновляю `README.md`:
```markdown
- Добавлены инструкции по использованию hello_plugin
```

**Пользователь:** Готово, спасибо.

### Полезные стратегии

- **Поощряйте уточнения.** Ассистент задаёт уточняющие вопросы, если что-то остаётся непонятным, а пользователь поддерживает такую практику.
- **Напоминание о реализованных функциях.** Попросите ассистента перечислить уже существующие возможности, чтобы не дублировать реализованные части.
- **Просьба анализировать отличия.** После внесения изменений просите указать, чем новая версия отличается от предыдущей.
- **Запрос сравнения.** Если рассматривается несколько вариантов, попросите ассистента сравнить их и выделить сильные и слабые стороны.

## Согласование терминов

Чтобы работа с документацией оставалась последовательной, используйте следующий процесс согласования терминов:

1. **Собрать список терминов** — выпишите ключевые понятия и обозначения.
2. **Утвердить** — согласуйте список с командой или ответственным редактором.
3. **Включить в документ** — добавьте утверждённые термины в текст или глоссарий.
4. **Сверить перед завершением работы** — перед сдачей убедитесь, что все термины используются единообразно.

## Примеры запросов

Ниже приведены шаблоны для различных типов обращений к ассистенту.

### Запрос черновика и финала

```text
Контекст: <описание задачи>
Цель: <какой результат нужен>
Ограничения: <условия>
Формат ответа: сначала черновик, после подтверждения — финальная версия
```

### Запрос на анализ

```text
Контекст: <что требуется проанализировать>
Цель: получить анализ и рекомендации
Ограничения: <условия>
Формат ответа: структурированный анализ с выводами и предложениями
```

### Запрос без внешних зависимостей

```text
Контекст: <описание задачи>
Цель: получить решение, не использующее внешние библиотеки
Ограничения: не использовать внешние зависимости
Формат ответа: самостоятельный пример кода
```
