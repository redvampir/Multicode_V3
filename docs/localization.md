# Локализация

Интерфейс Multicode и связанные сообщения могут переводиться на разные языки. Файлы переводов хранятся в каталоге `frontend/src/locales/`.

- Плагины могут добавлять собственные строки, см. [руководство по плагинам](plugin-guide.md).
- Перевод мета-комментариев описан в [meta-comments.md](meta-comments.md).
- Термины собраны в [глоссарии](glossary.md).

## Модуль `core::i18n`

Модуль `core::i18n` загружает базовые переводы для известных видов
блоков из файла `core/src/i18n/translations.json`. Функция `lookup`
возвращает словарь переводов, а `languages` — список доступных
языков. Если тип блока не поддерживается, при обогащении блоков
используется исходная метка для всех языков.

## Правила добавления переводов

1. Отредактируйте файл `core/src/i18n/translations.json`, добавив новый
   вид блока или языковой код.
2. Используйте двухбуквенные коды ISO 639‑1 и сохраняйте алфавитный
   порядок ключей.
3. Запустите `cargo test -p core`, чтобы убедиться, что изменения не
   ломают сборку.

## План интеграции перевода в `desktop`

1. Вынести все пользовательские строки из `desktop` в отдельные словари.
2. Создать каталог `desktop/assets/locales` с JSON‑файлами переводов.
3. Загружать нужный словарь при запуске приложения и предоставлять
   функцию `t()` для виджетов.
4. Добавить выбор языка в настройки пользователя.
5. Использовать данные `core::i18n` для отображения названий блоков.
